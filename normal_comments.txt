There are two approaches :
if I connect in  index.js file
or make a db file and connect db there in a function and export it...i'll do both
but will comment index wala code as it is not that efficient in this usecase


when u try to connect it with database..there is always a chance of error
so wrap it in a try catch
since database se connect krne me time lgta h...we use async await

we add listeners while we connect to database through express,...as there is a possibility that the database has   been connected but not able to talk t o express...so for that we add a 'on' listener..like this for errors
            
                import express from 'express'
                const app = express()
                app.on("error",(error)=>{
                    console.log(error)
                    throw error
                })

we import dotenv so that our env variables are avaiable as oson main pages loaded
there are to ways to import dotenv file , first is 
          require('dotenv').config({path :"./env"})
second is 
          import dotenv from 'dotenv'
          dotenv.config(
            {
                path : "./env"
            }
           )
but we need to go to package.json file and then add "-r dotenv/config --experimental-json-modules" to dev in scripts

"scripts": {
    "dev": " nodemon -r dotenv/config --experimental-json-modules src/index.js"
  },

app.use , we use this for using middlewares and configuration